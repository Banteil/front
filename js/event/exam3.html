<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exam3</title>
    <style>
      div * {
        padding: 10px;
        margin: 10px;
      }
      [readonly] {
        background-color: lightgray;
      }
    </style>
  </head>
  <body>
    <h3>ìˆ«ì ë§ì¶”ê¸° ê²Œì„</h3>
    <p>
      ì´ ê²Œì„ì€ ì»´í“¨í„°ê°€ ìƒì„±í•œ ìˆ«ìë¥¼ ë§ì¶”ëŠ” ê²Œì„ì…ë‹ˆë‹¤.<br />
      ìˆ«ìëŠ” 1~100 ì‚¬ì´ì— ìˆìŠµë‹ˆë‹¤.
    </p>
    <form action="" method="get">
      <div>
        <label for="num1">ìˆ«ì</label>
        <input type="text" name="num1" id="num1" size="5" autocomplete="off" />
        <button type="button">í™•ì¸</button>
      </div>
      <div>
        <label for="count">ì¶”ì¸¡íšŸìˆ˜</label>
        <input
          type="text"
          name="count"
          id="count"
          size="5"
          value="0"
          readonly
        />
      </div>
      <div>
        <label for="hint">íŒíŠ¸</label>
        <input type="text" name="hint" id="hint" size="30" readonly />
      </div>
    </form>
    <script>
      const btn = document.querySelector("button");
      const countInput = document.getElementById("count");
      const hintInput = document.getElementById("hint");
      const rand = Math.floor(Math.random() * 100 + 1);
      let count = 0;

      const gameLogic = {
        correct: {
          message: `ì •ë‹µì…ë‹ˆë‹¤!ğŸ‰`,
          isGameOver: true,
        },
        tooHigh: {
          message: "ë” ì‘ì€ ìˆ«ìì…ë‹ˆë‹¤",
          isGameOver: false,
        },
        tooLow: {
          message: "ë” í° ìˆ«ìì…ë‹ˆë‹¤",
          isGameOver: false,
        },
      };

      document.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          btn.click();
          e.preventDefault();
        }
      });

      btn.addEventListener("click", () => {
        const num = +document.getElementById("num1").value;
        if (isNaN(num) || num < 1 || num > 100) {
          hintInput.value = "1~100 ì‚¬ì´ì˜ ìˆ«ìë¥¼ ì…ë ¥í•˜ì„¸ìš”";
          return;
        }

        let logicKey = "";
        if (num > rand) {
          logicKey = "tooHigh";
        } else if (num < rand) {
          logicKey = "tooLow";
        } else {
          logicKey = "correct";
        }
        const currentLogic = gameLogic[logicKey];
        if (currentLogic.isGameOver) {
          btn.disabled = true;
        } else {
          countInput.value = ++count;
        }
        hintInput.value = currentLogic.message;
      });
    </script>
  </body>
</html>
